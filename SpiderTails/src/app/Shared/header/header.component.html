<div class="navbar-custom">
    <ul class="list-unstyled topbar-menu float-end mb-0">
      <li  style="top:-10px" class="dropdown notification-list d-lg-none">
        <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
            <i class="dripicons-search noti-icon"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-animated dropdown-lg p-0">
          <form class="p-3">
            <input type="text" class="form-control" placeholder="Search ..." aria-label="Recipient's username">
          </form>
        </div>
      </li>
  
      
      <li  class="notification-list"> 
        <a  style="top:-10px" class="nav-link">
          <span  style="margin-right: 5px;"><i class="mdi mdi-car noti-icon" ></i></span>
          <div [hidden]="!loading" class="spinner-border spinner-border-sm" role="status"></div>
          <span [hidden]="loading" style="margin-right: 5px;"><span  class="badge badge-success-lighten" >{{unidades}}</span> Activos</span>
          <span [hidden]="loading" style="margin-right: 5px;">     <span  class="badge badge-danger-lighten" >{{unidadesInactivo}}</span> Inactivos</span>
          <span [hidden]="loading" ><span  class="badge badge-secondary-lighten">{{unidadesTotal}}</span> Total</span>
        </a>
      </li>
  
  
  
      <li style="top:-10px" class="dropdown notification-list">
        <a class="nav-link dropdown-toggle arrow-none" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
          <i class="dripicons-bell noti-icon"></i>
          <span *ngIf="notifications !== '0'" class="noti-icon-badge">{{ notifications }}</span>
        </a>
  
        <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated dropdown-lg">
          <!-- item-->
          <div class="dropdown-item noti-title">
            <h5 class="m-0">
              Notificaciones
            </h5>
          </div>
          <!-- All-->
          <a [routerLink]="'/home/notification'" class="dropdown-item text-center text-primary notify-item notify-all">
            Ver todas
          </a>
  
        </div>
      </li>
  
  
      <!-- <li  class="notification-list">
        <a [hidden]="route !== '/home'" style="top:-10px" class="nav-link end-bar-toggle" (click)="rightMenu()" href="javascript: void(0);">
          <i class="dripicons-gear noti-icon"></i>
        </a>
      </li> -->
  
  
  
      <li class="dropdown notification-list">
        <a class="nav-link dropdown-toggle nav-user arrow-none me-0" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
          <span class="account-user-avatar">
            <img [src]="logoD" alt="user-image" class="rounded-circle" (error)="errorHandler($event)">
          </span>
          <span>
            <span class="account-user-name">{{name}}</span>
            <span class="account-position">{{subName}}</span>
          </span>
        </a>
        <div class="dropdown-menu dropdown-menu-end dropdown-menu-animated topbar-dropdown-menu profile-dropdown">
  
          <div class=" dropdown-header noti-title">
            <h6 class="text-overflow m-0">Bienvenido !</h6>
          </div>

          <a *ngIf="permisos.includes('CON608')" [routerLink]="'/porfile/change-logo'" class=" cursor dropdown-item notify-item">
            <i class="mdi mdi-account-circle me-1"></i>
            <span>Cambiar logotipo</span>
          </a>
          <a *ngIf="permisos.includes('CON610')" [routerLink]="'/porfile/change-password'" class=" cursor dropdown-item notify-item">
            <i class="mdi mdi-lock-outline me-1"></i>
            <span>Cambiar contrase√±a</span>
          </a>
          <a (click)="signOut()" class=" cursor dropdown-item notify-item">
            <i class="mdi mdi-logout me-1"></i>
            <span>Salir</span>
          </a>
        </div>
  
      </li>
  
    </ul>
  
    <!-- <button (click)="showMenu('header-toggle','navbar')" class="button-menu-mobile">
        <i class="mdi mdi-menu"></i>
    </button>
   -->
  
    <div  class="app-search dropdown d-none d-lg-block">
      <form>
        <div class="input-group">
          <input
          [hidden]="route !== '/home'"
            [(ngModel)]="vehiculo"
            name="vehiculo"
            (keyup)="changeFilterVehiculo()"
            type="text"
            class="form-control dropdown-toggle"
            placeholder="Buscar Vehiculo..."
            id="top-search">
          <span [hidden]="route !== '/home'" class="mdi mdi-magnify search-icon"></span>
        </div>
      </form>
  
      <div  style="height: 30vh; overflow: auto;" class="dropdown-menu dropdown-menu-animated dropdown-lg" id="search-dropdown">
        <!-- item-->
        <div *ngIf="(spiderMarkers | filterSidebarRight: subempresa:estatus:type) as totalDispositivos" class="dropdown-header noti-title">
          <h5 class="text-overflow mb-2">Total: <span class="text-danger">{{ totalDispositivos.length }}</span> resultados</h5>
        </div>
  
        <div class="notification-list">
          <!-- item-->
          <a *ngFor="let spider of spiderMarkers | filterSidebarRight: subempresa:estatus:type; let i = index"
            (click)="selectDevice(spider.dispositivo, spider.latitud, spider.longitud, spider.statusEvent, i)"
            class="cursor dropdown-item notify-item">
            <div class="d-flex">
              <i style="margin-right: .5rem;" class="mdi mdi-car-connected toolBtn{{ spider.statusEvent }}"></i>
                <div class="w-100">
                  <h5 class="m-0 font-14">{{ spider.nombre }}</h5>
                  <span class="font-12 mb-0">{{ spider.fecha | date:'dd MMMM yyyy H:mm' }}</span>
                </div>
            </div>
          </a>
      </div>
      </div>
    </div>
  </div>
  
  
  